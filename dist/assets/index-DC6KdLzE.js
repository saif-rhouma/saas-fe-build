import{b as y,j as e,B as i,az as B,v as h,C as w,T as b,aH as u,L as R,dD as $,D,e as P,I as S,bI as E,S as H,A as M,dK as N,r as k,ed as O,G as c,ee as F,ef as G,eg as A,eh as q,H as z,dO as _,dM as J}from"./index-BPQkDe0s.js";import{u as Q,E as U}from"./error-block-Db9supFO.js";import{u as K}from"./use-mocked-user-BLzAaaGS.js";import{C as T}from"./chart-legends-vDD5DnCx.js";import{A as V}from"./embla-carousel-autoplay.esm-0OO14Ffu.js";import{I as X}from"./image-C7AA7Kgf.js";import{C as Y}from"./carousel-progress-bar-DH3OcQy-.js";import{u as Z}from"./use-carousel-DblUMtOi.js";import{C as ee}from"./carousel-dot-buttons-DpiXusYz.js";import{C as se}from"./carousel-arrow-buttons-Be1GKtNm.js";import{b as re,c as g,d as f}from"./format-number-9dwzKsgZ.js";import{a as ae,b as te,c as oe,T as ne}from"./table-head-custom-BKFgPtmt.js";import{C as v}from"./CardHeader--tCBXTtB.js";import{T as j}from"./TableCell-CX5ECdrE.js";import{u as L,C as W}from"./use-chart-O0ToSvj-.js";import{C as ie}from"./chart-select-TSK0qrw3.js";import{A as I}from"./app-widget-summary-BRtLQzNY.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./index-DGJW8Nhg.js";import"./Checkbox-DYdkvSfk.js";function le({title:s,description:t,action:r,img:o,sx:a,...l}){const x=y();return e.jsxs(i,{sx:{...B({color:`to right, ${h(x.vars.palette.grey["900Channel"],.88)} 0%, ${x.vars.palette.grey[900]} 75%`,imgUrl:`${w.site.basePath}/assets/background/background-5.webp`}),pt:5,pb:5,pr:3,gap:5,borderRadius:2,display:"flex",height:{md:1},position:"relative",pl:{xs:3,md:5},alignItems:"center",color:"common.white",textAlign:{xs:"center",md:"left"},flexDirection:{xs:"column",md:"row"},border:`solid 1px ${x.vars.palette.grey[800]}`,...a},...l,children:[e.jsxs(i,{sx:{display:"flex",flex:"1 1 auto",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"}},children:[e.jsx(b,{variant:"h4",sx:{whiteSpace:"pre-line",mb:1},children:s}),e.jsx(b,{variant:"body2",sx:{opacity:.64,maxWidth:360,...r&&{mb:3}},children:t}),r&&r]}),o&&e.jsx(i,{sx:{maxWidth:260},children:o})]})}function de({list:s,sx:t,...r}){const o=Z({loop:!0},[V({playOnInit:!0,delay:8e3})]);return e.jsxs(u,{sx:{bgcolor:"common.black",...t},...r,children:[e.jsx(ee,{scrollSnaps:o.dots.scrollSnaps,selectedIndex:o.dots.selectedIndex,onClickDot:o.dots.onClickDot,sx:{top:16,left:16,position:"absolute",color:"primary.light"}}),e.jsx(se,{...o.arrows,options:o.options,sx:{top:8,right:8,position:"absolute",color:"common.white"}}),e.jsx(Y,{carousel:o,children:s.map(a=>e.jsx(ce,{item:a},a.id))})]})}function ce({item:s,...t}){return e.jsxs(i,{sx:{width:1,position:"relative",...t},children:[e.jsxs(i,{sx:{p:3,gap:1,width:1,bottom:0,zIndex:9,display:"flex",position:"absolute",color:"common.white",flexDirection:"column"},children:[e.jsx(b,{variant:"overline",sx:{color:"primary.light"},children:"Featured App"}),e.jsx(R,{color:"inherit",underline:"none",variant:"h5",noWrap:!0,children:s.title}),e.jsx(b,{variant:"body2",noWrap:!0,children:s.description})]}),e.jsx(X,{alt:s.title,src:s.coverUrl,slotProps:{overlay:{background:r=>`linear-gradient(to bottom, ${h(r.vars.palette.common.blackChannel,0)} 0%, ${r.vars.palette.common.black} 75%)`}},sx:{width:1,height:{xs:288,xl:320}}})]})}function pe({title:s,subheader:t,tableData:r,headLabel:o,...a}){return e.jsxs(u,{...a,children:[e.jsx(v,{title:s,subheader:t,sx:{mb:3}}),e.jsx($,{sx:{minHeight:402},children:e.jsxs(ae,{sx:{minWidth:680},children:[e.jsx(te,{headLabel:o}),e.jsx(oe,{children:r.map(l=>e.jsx(xe,{row:l},l.id))})]})}),e.jsx(D,{sx:{borderStyle:"dashed"}}),e.jsx(i,{sx:{p:2,textAlign:"right"},children:e.jsx(P,{size:"small",color:"inherit",endIcon:e.jsx(S,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),children:"View all"})})]})}function xe({row:s}){return E(),e.jsxs(ne,{children:[e.jsx(j,{children:s.id}),e.jsx(j,{children:e.jsxs(H,{spacing:2,direction:"row",alignItems:"center",children:[e.jsx(M,{alt:s==null?void 0:s.name,src:"http://localhost:3000/api/files/show/"+(s==null?void 0:s.image)}),e.jsx(i,{component:"span",children:s==null?void 0:s.name})]})}),e.jsx(j,{children:re(s.price)}),e.jsx(j,{children:s.total_quantity})]})}function me({title:s,subheader:t,list:r,...o}){return e.jsxs(u,{...o,children:[e.jsx(v,{title:s,subheader:t}),e.jsx(i,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:N(r,["total_orders"],["desc"]).map((a,l)=>e.jsx(he,{item:a,index:l},a.id))})]})}function he({item:s,index:t,sx:r,...o}){return e.jsxs(i,{sx:{gap:2,display:"flex",alignItems:"center",...r},...o,children:[e.jsx(M,{alt:s.name,src:s.avatar}),e.jsxs(i,{flexGrow:1,children:[e.jsx(i,{sx:{typography:"subtitle2"},children:s.name}),e.jsxs(i,{sx:{gap:.5,mt:.5,alignItems:"center",typography:"caption",display:"inline-flex",color:"text.secondary"},children:[e.jsx(S,{icon:"solar:cart-large-4-bold-duotone",width:14}),g(s.total_orders)]})]}),e.jsx(i,{sx:{width:40,height:40,display:"flex",borderRadius:"50%",alignItems:"center",color:"primary.main",justifyContent:"center",bgcolor:a=>h(a.vars.palette.primary.mainChannel,.08),...t===1&&{color:"info.main",bgcolor:a=>h(a.vars.palette.info.mainChannel,.08)},...t===2&&{color:"error.main",bgcolor:a=>h(a.vars.palette.error.mainChannel,.08)}},children:e.jsx(S,{width:24,icon:"solar:cup-star-bold"})})]})}function ue({title:s,subheader:t,chart:r,...o}){const a=y(),[l,x]=k.useState("2023"),p=r.colors??[a.palette.primary.dark,a.palette.warning.main,a.palette.info.main],n=L({chart:{stacked:!0},colors:p,stroke:{width:0},xaxis:{categories:r.categories},tooltip:{y:{formatter:d=>f(d)}},plotOptions:{bar:{columnWidth:"40%"}},...r.options}),C=k.useCallback(d=>{x(d)},[]),m=r.series.find(d=>d.name===l);return e.jsxs(u,{...o,children:[e.jsx(v,{title:s,subheader:t,action:e.jsx(ie,{options:r.series.map(d=>d.name),value:l,onChange:C}),sx:{mb:3}}),e.jsx(T,{colors:n==null?void 0:n.colors,labels:r.series[0].data.map(d=>d.name),values:[g(1234),g(6789),g(1012)],sx:{px:3,gap:3}}),e.jsx(W,{type:"bar",series:m==null?void 0:m.data,options:n,height:320,sx:{py:2.5,pl:1,pr:2.5}},l)]})}function je({title:s,subheader:t,chart:r,...o}){const a=y(),l=r.colors??[a.palette.primary.lighter,a.palette.primary.light,a.palette.primary.dark,a.palette.primary.darker],x=r.series.map(n=>n.value),p=L({chart:{sparkline:{enabled:!0}},colors:l,labels:r.series.map(n=>n.label),stroke:{width:0},tooltip:{y:{formatter:n=>f(n),title:{formatter:n=>`${n}`}}},plotOptions:{pie:{donut:{size:"72%",labels:{value:{formatter:n=>f(n)},total:{formatter:n=>{const C=n.globals.seriesTotals.reduce((m,d)=>m+d,0);return f(C)}}}}}},...r.options});return e.jsxs(u,{...o,children:[e.jsx(v,{title:s,subheader:t}),e.jsx(W,{type:"donut",series:x,options:p,width:{xs:240,xl:260},height:{xs:240,xl:260},sx:{my:6,mx:"auto"}}),e.jsx(D,{sx:{borderStyle:"dashed"}}),e.jsx(T,{labels:p==null?void 0:p.labels,colors:p==null?void 0:p.colors,sx:{p:3,justifyContent:"center"}})]})}function ge({analytics:s}){const{user:t}=K();return console.log("----> user",s),y(),e.jsx(O,{maxWidth:"xl",children:e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{xs:12,md:8,children:e.jsx(le,{title:`Welcome back ðŸ‘‹ 
 ${t==null?void 0:t.displayName}`,description:"If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything.",img:e.jsx(F,{hideBackground:!0}),action:e.jsx(P,{variant:"contained",color:"primary",children:"Go now"})})}),e.jsx(c,{xs:12,md:4,children:e.jsx(de,{list:G})}),e.jsx(c,{xs:12,md:4,children:e.jsx(I,{title:"Waiting for Approval",total:s.orders.analytics.Draft,chart:{categories:s.orders.draftLastSixMonth.map(r=>A(r==null?void 0:r.inMonth)),series:s.orders.draftLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(I,{title:"Processing Order",total:s.orders.analytics.InProcess,chart:{categories:s.orders.inProcessLastSixMonth.map(r=>A(r==null?void 0:r.inMonth)),series:s.orders.inProcessLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(I,{title:"Ready to Deliver",total:s.orders.analytics.Ready,chart:{categories:s.orders.readyLastSixMonth.map(r=>A(r==null?void 0:r.inMonth)),series:s.orders.readyLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:6,lg:4,children:e.jsx(je,{title:"Order Overview",chart:{series:[{label:"Ready",value:s.orders.analytics.Ready},{label:"In Process",value:s.orders.analytics.InProcess},{label:"Waiting for Approval",value:s.orders.analytics.Draft},{label:"Delivered",value:s.orders.analytics.Delivered}]}})}),e.jsx(c,{xs:12,md:6,lg:8,children:e.jsx(ue,{title:"Area installed",subheader:"(+43%) than last year",chart:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[{name:"2022",data:[{name:"Asia",data:[12,10,18,22,20,12,8,21,20,14,15,16]},{name:"Europe",data:[12,10,18,22,20,12,8,21,20,14,15,16]},{name:"Americas",data:[12,10,18,22,20,12,8,21,20,14,15,16]}]},{name:"2023",data:[{name:"Asia",data:[6,18,14,9,20,6,22,19,8,22,8,17]},{name:"Europe",data:[6,18,14,9,20,6,22,19,8,22,8,17]},{name:"Americas",data:[6,18,14,9,20,6,22,19,8,22,8,17]}]},{name:"2024",data:[{name:"Asia",data:[6,20,15,18,7,24,6,10,12,17,18,10]},{name:"Europe",data:[6,20,15,18,7,24,6,10,12,17,18,10]},{name:"Americas",data:[6,20,15,18,7,24,6,10,12,17,18,10]}]}]}})}),e.jsx(c,{xs:12,lg:8,children:e.jsx(pe,{title:"Top 5 Ordered Products By Quantity",tableData:s.products,headLabel:[{id:"id",label:"#",width:60},{id:"name",label:"Product Name"},{id:"price",label:"Price"},{id:"quantity",label:"Total Quantity",width:160}]})}),e.jsx(c,{xs:12,md:6,lg:4,children:e.jsx(me,{title:"Top 5 Customers",list:s.customers})})]})})}const fe={title:`Dashboard - ${w.site.name}`};function Fe(){const s=Q({queryKey:["overview-analytics"],queryFn:async()=>{const{data:t}=await _.get(J.dashboard);return t}});return s.isPending||s.isLoading?e.jsx(q,{}):s.isError?e.jsx(U,{route:""}):e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsxs("title",{children:[" ",fe.title]})}),e.jsx(ge,{analytics:s.data})]})}export{Fe as default};

import{g as u,r as p,p as d,j as s,B as a,S as i,A as j,C as c,dP as b,ay as x,aB as m,dc as f,dT as y,H as g,dn as C,dl as w}from"./index-CDcUgrfM.js";import{u as T,E as D}from"./error-block-XWJxuTVo.js";import{u as P}from"./use-params-DKihax7a.js";import{C as B}from"./custom-breadcrumbs-BL_vTuJF.js";import{a as E,b as N,c as v,T as H}from"./table-head-custom-29joC1Qk.js";import{T as l}from"./TableCell-F7WbLTEO.js";import{C as k}from"./CardHeader-CNs3kuny.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./Checkbox-BxyuHg5r.js";const I=({products:n})=>{const r=[{id:"name",width:60,label:"#"},{id:"name",label:"Product"},{id:"quantity",label:"Quantity",width:120}],o=u(),t=p.useCallback(e=>{o.push(d.dashboard.product.details(e))},[o]);return s.jsx(a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{borderRadius:1,overflow:"hidden",border:e=>`solid 1px ${e.vars.palette.divider}`},children:s.jsxs(E,{size:"medium",children:[s.jsx(N,{headLabel:r}),s.jsx(v,{children:n==null?void 0:n.map((e,h)=>s.jsxs(H,{children:[s.jsxs(l,{children:[" ",h+1," "]}),s.jsx(l,{children:s.jsxs(i,{spacing:2,direction:"row",alignItems:"center",children:[s.jsx(j,{alt:e==null?void 0:e.name,src:c.site.serverFileHost+((e==null?void 0:e.image)||c.site.defaultImgPlaceHolder)}),s.jsx(a,{component:"span",sx:{cursor:"pointer"},onClick:()=>{t(e.id)},children:e==null?void 0:e.name})]})}),s.jsx(l,{children:s.jsxs(a,{sx:{width:240,color:"error.main",fontWeight:"bold"},children:["x",e==null?void 0:e.total_quantity]})})]},e==null?void 0:e.id))})]})})},R=({payload:n})=>{const{customer:r,products:o}=n;return s.jsxs(b,{children:[s.jsx(B,{links:[{name:"Dashboard",href:d.dashboard.root},{name:"Customer",href:d.dashboard.customers.root},{name:"Customer Details"}],sx:{mb:{xs:3,md:5}}}),s.jsx(x,{container:!0,spacing:3,children:s.jsx(x,{xs:12,md:12,children:s.jsx(i,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:s.jsxs(m,{children:[s.jsx(k,{title:"Details"}),s.jsx(i,{direction:"row",gap:10,sx:{p:3,typography:"body2"},children:s.jsxs(a,{flexDirection:"column",gap:1,sx:{display:"flex",width:"100%",p:1},children:[s.jsxs(a,{sx:{color:"text.secondary"},children:["Ref: #",r==null?void 0:r.ref]}),s.jsxs(a,{sx:{color:"text.secondary"},children:["Name: ",r==null?void 0:r.name]}),s.jsxs(a,{sx:{color:"text.secondary"},children:["Email: ",r==null?void 0:r.email]}),(r==null?void 0:r.phoneNumber)&&s.jsxs(a,{sx:{color:"text.secondary"},children:["Phone Number: ",(r==null?void 0:r.phoneNumber)||" - "]}),(r==null?void 0:r.taxNumber)&&s.jsxs(a,{sx:{color:"text.secondary"},children:["Tax Number: ",(r==null?void 0:r.taxNumber)||" - "]})]})}),s.jsx(f,{children:s.jsx(a,{fullWidth:!0,alignItems:"center",sx:{p:3,borderBottom:t=>`dashed 2px ${t.vars.palette.background.neutral}`},children:s.jsx(I,{products:o})})})]})})})})]})},q={title:`Customer details | Dashboard - ${c.site.name}`};function K(){const{id:n=""}=P(),r=T({queryKey:["customer",n],queryFn:async()=>{const{data:o}=await C.get(w.customers.details+n);return o}});return r.isPending||r.isLoading?s.jsx(y,{}):r.isError?s.jsx(D,{route:d.dashboard.plan.root}):s.jsxs(s.Fragment,{children:[s.jsx(g,{children:s.jsxs("title",{children:[" ",q.title]})}),s.jsx(R,{payload:r.data})]})}export{K as default};

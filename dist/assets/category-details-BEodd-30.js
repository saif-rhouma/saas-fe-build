import{aP as T,j as s,S as x,A as C,C as c,B as l,aJ as D,r as f,aX as S,dP as E,p as h,ay as P,aB as b,aV as B,dT as I,H as v,dx as H,b5 as L}from"./index-DT04UR_O.js";import{u as y,E as A}from"./error-block-BoCOKljz.js";import{u as F}from"./use-params-CNvBfPdK.js";import{C as R}from"./custom-breadcrumbs-DhAwakkx.js";import{g as N,e as k}from"./utils-MBUcMVfY.js";import{u as O}from"./use-table-Dvx8L5Dy.js";import{T as V}from"./table-no-data-DSrhKKqU.js";import{T as q}from"./table-empty-rows-CKpal-Jm.js";import{T as z,a as G,b as J,c as K}from"./table-head-custom-CK_1KHWF.js";import{T as Q}from"./table-pagination-custom-p7IM4Ndp.js";import{a as W}from"./format-number-Bl4e0oau.js";import{T as d}from"./TableCell-BXVtmUZi.js";import{C as X}from"./CardHeader-BbSM_7Vm.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./empty-content-bso-Oats.js";import"./Checkbox-BU7EYPXc.js";import"./TablePagination-BV8aUVPa.js";import"./KeyboardArrowRight-DI6e2iIr.js";import"./LastPage-BaKUnPHk.js";import"./Select-C_-xEl5F.js";import"./Menu-BPDpcHu6.js";import"./utils-DoM3o7-Q.js";import"./formControlState-Dq1zat_P.js";import"./InputBase-BM5GWnYp.js";import"./FormControlLabel-CvWNVptb.js";const _=({row:e,index:t,selected:n})=>{var i;T();const m=s.jsxs(z,{hover:!0,selected:n,children:[s.jsx(d,{children:t||(e==null?void 0:e.id)}),s.jsx(d,{children:s.jsxs(x,{spacing:2,direction:"row",alignItems:"center",children:[s.jsx(C,{alt:e==null?void 0:e.name,src:c.site.serverFileHost+((e==null?void 0:e.image)||c.site.defaultImgPlaceHolder)}),s.jsx(l,{component:"span",children:e==null?void 0:e.name})]})}),s.jsx(d,{children:W(e==null?void 0:e.price)}),s.jsxs(d,{align:"center",children:[" ",((i=e==null?void 0:e.stock)==null?void 0:i.quantity)||"0"," "]}),s.jsx(d,{children:s.jsx(D,{variant:"soft",color:e.isActive===!0&&"success"||e.isActive===!1&&"error"||"default",children:e!=null&&e.isActive?"ACTIVE":"INACTIVE"})})]});return s.jsx(s.Fragment,{children:m})},$=[{id:"productId",label:"No.",width:80},{id:"productName",label:"Name"},{id:"productPrice",label:"Price",width:200},{id:"stock",label:"Stock",align:"center"},{id:"status",label:"Status",width:100}],M=({category:e})=>{const t=O({defaultOrderBy:"planId"}),[n,m]=f.useState(e.products),i=S({name:"",status:"all",startDate:null,endDate:null});f.useEffect(()=>{m(e.products)},[e.products]);const r=U({inputData:n,comparator:N(t.order,t.orderBy),filters:i.state}),u=!!i.state.name||i.state.status!=="all"||!!i.state.startDate&&!!i.state.endDate,g=!r.length&&u||!r.length;return s.jsxs(E,{children:[s.jsx(R,{links:[{name:"Dashboard",href:h.dashboard.root},{name:"Product",href:h.dashboard.product.root},{name:"Categories List",href:h.dashboard.product.categories},{name:"Category Details"}],sx:{mb:{xs:3,md:5}}}),s.jsx(P,{container:!0,spacing:3,children:s.jsx(P,{xs:12,md:12,children:s.jsxs(x,{spacing:2,direction:{xs:"column-reverse",md:"column"},children:[s.jsxs(b,{children:[s.jsx(X,{title:"Details"}),s.jsxs(x,{direction:"row",gap:10,sx:{p:3,typography:"body2"},children:[s.jsx(l,{flexDirection:"column",sx:{p:1,display:"flex"},children:s.jsx(x,{spacing:2,direction:"row",alignItems:"center",children:s.jsx(C,{sx:{width:100,height:100},alt:e==null?void 0:e.name,src:c.site.serverFileHost+((e==null?void 0:e.image)||c.site.defaultImgPlaceHolder)})})}),s.jsxs(l,{flexDirection:"column",gap:1,sx:{display:"flex",width:"100%",p:1},children:[s.jsxs(l,{sx:{color:"text.secondary"},children:["Name: ",e==null?void 0:e.name]}),s.jsxs(l,{sx:{color:"text.secondary"},children:["Description: ",e==null?void 0:e.description]})]})]})]}),s.jsxs(b,{children:[s.jsx(B,{sx:{minHeight:444},children:s.jsxs(G,{size:t.dense?"small":"medium",sx:{minWidth:960},children:[s.jsx(J,{order:t.order,orderBy:t.orderBy,headLabel:$,rowCount:r.length,numSelected:t.selected.length,onSort:t.onSort}),s.jsxs(K,{children:[r.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map((o,a)=>s.jsx(_,{row:o,index:t.page*t.rowsPerPage+a+1,selected:t.selected.includes(o.id)},o.id)),s.jsx(q,{height:t.dense?56:76,emptyRows:k(t.page,t.rowsPerPage,r.length)}),s.jsx(V,{notFound:g})]})]})}),s.jsx(Q,{page:t.page,dense:t.dense,count:r.length,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onChangeDense:t.onChangeDense,onRowsPerPageChange:t.onChangeRowsPerPage})]})]})})})]})};function U({inputData:e,comparator:t,filters:n,dateError:m}){const{status:i,name:r,startDate:u,endDate:g}=n,o=e.map((a,p)=>[a,p]);return o.sort((a,p)=>{const j=t(a[0],p[0]);return j!==0?j:a[1]-p[1]}),e=o.map(a=>a[0]),r&&(e=e.filter(a=>a.id.toString().toLowerCase().indexOf(r.toLowerCase())!==-1||a.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),e}const Y={title:`Category details | Dashboard - ${c.site.name}`};function Ee(){const{id:e=""}=F(),t=y({queryKey:["category",e],queryFn:async()=>{const{data:n}=await H.get(L.productCategories.details+e);return n}});return t.isPending||t.isLoading?s.jsx(I,{}):t.isError?s.jsx(A,{route:h.dashboard.plan.root}):s.jsxs(s.Fragment,{children:[s.jsx(v,{children:s.jsxs("title",{children:[" ",Y.title]})}),s.jsx(M,{category:t.data})]})}export{Ee as default};

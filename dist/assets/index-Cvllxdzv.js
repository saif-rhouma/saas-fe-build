import{b as w,j as e,B as n,aq as F,v as u,C as y,T as v,aB as j,L as H,dd as N,am as P,e as T,I as k,S as O,A as L,dk as q,r as D,h as E,dP as G,ay as c,dQ as Q,dR as _,dS as S,dT as z,H as U,dp as V,dm as K}from"./index-Cb6aSJqI.js";import{u as J,E as X}from"./error-block-BjnALYtR.js";import{A as Y}from"./embla-carousel-autoplay.esm-0OO14Ffu.js";import{I as Z}from"./image-CKkZri-A.js";import{C as ee}from"./carousel-progress-bar-B_O7Xlpj.js";import{u as se}from"./use-carousel-DF7fjp6O.js";import{C as re}from"./carousel-dot-buttons-Bws1Tdur.js";import{b as te}from"./carousel-arrow-buttons-CruP7Q4e.js";import{b as ae,c as f,d as b}from"./format-number-BkELK9o5.js";import{a as oe,b as ie,c as le,T as ne}from"./table-head-custom-CPjDlHqa.js";import{C}from"./CardHeader-iu_IfPM-.js";import{T as g}from"./TableCell-DafvB6oq.js";import{u as B,C as M}from"./use-chart-zkpfGPQV.js";import{C as de}from"./chart-select-BOd6t3Ky.js";import{C as W}from"./chart-legends-DPEuWyMc.js";import{A}from"./app-widget-summary-crqyMhtM.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./Checkbox-BduLSsJI.js";import"./index-BXLKVmsR.js";function ce({title:s,description:o,action:t,img:r,sx:a,...d}){const h=w();return e.jsxs(n,{sx:{...F({color:`to right, ${u(h.vars.palette.grey["900Channel"],.88)} 0%, ${h.vars.palette.grey[900]} 75%`,imgUrl:`${y.site.basePath}/assets/background/background-5.webp`}),pt:5,pb:5,pr:3,gap:5,borderRadius:2,display:"flex",height:{md:1},position:"relative",pl:{xs:3,md:5},alignItems:"center",color:"common.white",textAlign:{xs:"center",md:"left"},flexDirection:{xs:"column",md:"row"},border:`solid 1px ${h.vars.palette.grey[800]}`,...a},...d,children:[e.jsxs(n,{sx:{display:"flex",flex:"1 1 auto",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"}},children:[e.jsx(v,{variant:"h4",sx:{whiteSpace:"pre-line",mb:1},children:s}),e.jsx(v,{variant:"body2",sx:{opacity:.64,maxWidth:360,...t&&{mb:3}},children:o}),t&&t]}),r&&e.jsx(n,{sx:{maxWidth:260},children:r})]})}function xe({list:s,sx:o,...t}){const r=se({loop:!0},[Y({playOnInit:!0,delay:8e3})]);return e.jsxs(j,{sx:{bgcolor:"common.black",...o},...t,children:[e.jsx(re,{scrollSnaps:r.dots.scrollSnaps,selectedIndex:r.dots.selectedIndex,onClickDot:r.dots.onClickDot,sx:{top:16,left:16,position:"absolute",color:"primary.light"}}),e.jsx(te,{...r.arrows,options:r.options,sx:{top:8,right:8,position:"absolute",color:"common.white"}}),e.jsx(ee,{carousel:r,children:s.map(a=>e.jsx(pe,{item:a},a.id))})]})}function pe({item:s,...o}){return e.jsxs(n,{sx:{width:1,position:"relative",...o},children:[e.jsxs(n,{sx:{p:3,gap:1,width:1,bottom:0,zIndex:9,display:"flex",position:"absolute",color:"common.white",flexDirection:"column"},children:[e.jsx(v,{variant:"overline",sx:{color:"primary.light"},children:"Featured App"}),e.jsx(H,{color:"inherit",underline:"none",variant:"h5",noWrap:!0,children:s.title}),e.jsx(v,{variant:"body2",noWrap:!0,children:s.description})]}),e.jsx(Z,{alt:s.title,src:s.coverUrl,slotProps:{overlay:{background:t=>`linear-gradient(to bottom, ${u(t.vars.palette.common.blackChannel,0)} 0%, ${t.vars.palette.common.black} 75%)`}},sx:{width:1,height:{xs:288,xl:320}}})]})}function he({title:s,subheader:o,tableData:t,headLabel:r,...a}){return e.jsxs(j,{...a,children:[e.jsx(C,{title:s,subheader:o,sx:{mb:3}}),e.jsx(N,{sx:{minHeight:402},children:e.jsxs(oe,{sx:{minWidth:680},children:[e.jsx(ie,{headLabel:r}),e.jsx(le,{children:t.map(d=>e.jsx(me,{row:d},d.id))})]})}),e.jsx(P,{sx:{borderStyle:"dashed"}}),e.jsx(n,{sx:{p:2,textAlign:"right"},children:e.jsx(T,{size:"small",color:"inherit",endIcon:e.jsx(k,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),children:"View all"})})]})}function me({row:s}){return e.jsxs(ne,{children:[e.jsx(g,{children:s.id}),e.jsx(g,{children:e.jsxs(O,{spacing:2,direction:"row",alignItems:"center",children:[e.jsx(L,{alt:s==null?void 0:s.name,src:y.site.serverFileHost+((s==null?void 0:s.image)||y.site.defaultImgPlaceHolder)}),e.jsx(n,{component:"span",children:s==null?void 0:s.name})]})}),e.jsx(g,{children:ae(s.price)}),e.jsx(g,{children:s.total_quantity})]})}function ue({title:s,subheader:o,list:t,...r}){return e.jsxs(j,{...r,children:[e.jsx(C,{title:s,subheader:o}),e.jsx(n,{sx:{p:3,gap:3,mt:.5,display:"flex",flexDirection:"column"},children:q(t,["total_orders"],["desc"]).map((a,d)=>e.jsx(je,{item:a,index:d},a.id))})]})}function je({item:s,index:o,sx:t,...r}){return e.jsxs(n,{sx:{gap:2,display:"flex",alignItems:"center",...t},...r,children:[e.jsx(L,{alt:s.name,src:s.avatar}),e.jsxs(n,{flexGrow:1,children:[e.jsx(n,{sx:{typography:"subtitle2"},children:s.name}),e.jsxs(n,{sx:{gap:.5,mt:.5,alignItems:"center",typography:"caption",display:"inline-flex",color:"text.secondary"},children:[e.jsx(k,{icon:"solar:cart-large-4-bold-duotone",width:14}),f(s.total_orders)]})]}),e.jsx(n,{sx:{width:40,height:40,display:"flex",borderRadius:"50%",alignItems:"center",color:"primary.main",justifyContent:"center",bgcolor:a=>u(a.vars.palette.primary.mainChannel,.08),...o===1&&{color:"info.main",bgcolor:a=>u(a.vars.palette.info.mainChannel,.08)},...o===2&&{color:"error.main",bgcolor:a=>u(a.vars.palette.error.mainChannel,.08)}},children:e.jsx(k,{width:24,icon:"solar:cup-star-bold"})})]})}function ge({title:s,subheader:o,chart:t,...r}){const a=w(),[d,h]=D.useState("2024"),x=t.colors??[a.palette.primary.dark,a.palette.warning.main,a.palette.info.main],i=B({chart:{stacked:!0},colors:x,stroke:{width:0},xaxis:{categories:t.categories},tooltip:{y:{formatter:l=>b(l)}},plotOptions:{bar:{columnWidth:"40%"}},...t.options}),I=D.useCallback(l=>{h(l)},[]),p=t.series.find(l=>l.name===d),m=l=>l==null?void 0:l.reduce((R,$)=>R+$,0);return e.jsxs(j,{...r,sx:{height:1},children:[e.jsx(C,{title:s,subheader:o,action:e.jsx(de,{options:t.series.map(l=>l.name),value:d,onChange:I}),sx:{mb:3}}),e.jsx(W,{colors:i==null?void 0:i.colors,labels:t.series[0].data.map(l=>l.name),values:[f(m(p.data[0].data)),f(m(p.data[1].data)),f(m(p.data[2].data))],sx:{px:3,gap:3}}),e.jsx(M,{type:"bar",series:p==null?void 0:p.data,options:i,height:320,sx:{py:2.5,pl:1,pr:2.5}},d)]})}function fe({title:s,subheader:o,chart:t,...r}){const a=w(),d=t.colors??[a.palette.primary.lighter,a.palette.primary.light,a.palette.primary.dark,a.palette.primary.darker],h=t.series.map(i=>i.value),x=B({chart:{sparkline:{enabled:!0}},colors:d,labels:t.series.map(i=>i.label),stroke:{width:0},tooltip:{y:{formatter:i=>b(i),title:{formatter:i=>`${i}`}}},plotOptions:{pie:{donut:{size:"72%",labels:{value:{formatter:i=>b(i)},total:{formatter:i=>{const I=i.globals.seriesTotals.reduce((p,m)=>p+m,0);return b(I)}}}}}},...t.options});return e.jsxs(j,{...r,children:[e.jsx(C,{title:s,subheader:o}),e.jsx(M,{type:"donut",series:h,options:x,width:{xs:240,xl:260},height:{xs:240,xl:260},sx:{my:6,mx:"auto"}}),e.jsx(P,{sx:{borderStyle:"dashed"}}),e.jsx(W,{labels:x==null?void 0:x.labels,colors:x==null?void 0:x.colors,sx:{p:3,justifyContent:"center"}})]})}function be({analytics:s}){var t;const{user:o}=E();return e.jsx(G,{maxWidth:"xl",children:e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{xs:12,md:8,children:e.jsx(ce,{title:`Welcome back ðŸ‘‹ 
 ${o==null?void 0:o.firstName}`,description:"If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything.",img:e.jsx(Q,{hideBackground:!0}),action:e.jsx(T,{variant:"contained",color:"primary",children:"Go now"})})}),e.jsx(c,{xs:12,md:4,children:e.jsx(xe,{list:_})}),e.jsx(c,{xs:12,md:4,children:e.jsx(A,{title:"Waiting for Approval",total:s.orders.analytics.Draft,chart:{categories:s.orders.draftLastSixMonth.map(r=>S(r==null?void 0:r.inMonth)),series:s.orders.draftLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(A,{title:"Processing Order",total:s.orders.analytics.InProcess,chart:{categories:s.orders.inProcessLastSixMonth.map(r=>S(r==null?void 0:r.inMonth)),series:s.orders.inProcessLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(A,{title:"Ready to Deliver",total:s.orders.analytics.Ready,chart:{categories:s.orders.readyLastSixMonth.map(r=>S(r==null?void 0:r.inMonth)),series:s.orders.readyLastSixMonth.map(r=>r==null?void 0:r.ClaimsPerMonth)}})}),e.jsx(c,{xs:12,md:6,lg:4,children:e.jsx(fe,{title:"Order Overview",chart:{series:[{label:"Ready",value:s.orders.analytics.Ready},{label:"In Process",value:s.orders.analytics.InProcess},{label:"Waiting for Approval",value:s.orders.analytics.Draft},{label:"Delivered",value:s.orders.analytics.Delivered}]}})}),e.jsx(c,{xs:12,md:6,lg:8,children:e.jsx(ge,{title:"Order Status",chart:(t=s==null?void 0:s.orders)==null?void 0:t.chartData})}),e.jsx(c,{xs:12,lg:8,children:e.jsx(he,{title:"Top 5 Ordered Products By Quantity",tableData:s.products,headLabel:[{id:"id",label:"#",width:60},{id:"name",label:"Product Name"},{id:"price",label:"Price"},{id:"quantity",label:"Total Quantity",width:160}]})}),e.jsx(c,{xs:12,md:6,lg:4,children:e.jsx(ue,{title:"Top 5 Customers",list:s.customers})})]})})}const ye={title:`Dashboard - ${y.site.name}`};function Ee(){const s=J({queryKey:["overview-analytics"],queryFn:async()=>{const{data:o}=await V.get(K.dashboard);return o}});return s.isPending||s.isLoading?e.jsx(z,{}):s.isError?e.jsx(X,{route:""}):e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsxs("title",{children:[" ",ye.title]})}),e.jsx(be,{analytics:s.data})]})}export{Ee as default};

import{l as u,r as y,p as o,j as s,B as n,I as g,e8 as p,G as f,S as d,aD as C,A as w,C as t,ds as P,dy as D,ec as T,H as I,dJ as v,dH as H}from"./index-yGbCRgTb.js";import{u as k,E as q}from"./error-block-DTJA4qog.js";import{u as B}from"./use-params-CWrDXP2r.js";import{b as x}from"./format-number-CldpmeB4.js";import{C as E}from"./custom-breadcrumbs-BVoeLH7h.js";import{a as A,b as R,c as L,T as O}from"./table-head-custom-Dmu61VxH.js";import{T as l}from"./TableCell-kQtrcvwO.js";import{C as F}from"./CardHeader-DDfI07wT.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./Checkbox-CLReM-9f.js";const S=({productOrders:e})=>{const r=[{id:"name",label:"Order Ref",width:150},{id:"quantity",label:"Customer"},{id:"quantity",label:"Quantity",width:200},{id:"quantity",label:"Price",width:200},{id:"quantity",label:"Total Order Amount",width:200}],i=u(),m=y.useCallback(a=>{i.push(o.dashboard.order.details(a))},[i]);return s.jsx(n,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{borderRadius:1,overflow:"hidden",border:a=>`solid 1px ${a.vars.palette.divider}`},children:s.jsxs(A,{size:"medium",children:[s.jsx(R,{headLabel:r}),s.jsx(L,{children:e==null?void 0:e.map(a=>{var c,h,j;return s.jsxs(O,{children:[s.jsx(l,{children:s.jsxs(n,{onClick:()=>{var b;return m((b=a==null?void 0:a.order)==null?void 0:b.id)},sx:{width:240,display:"flex",gap:1,alignItems:"center",cursor:"pointer",marginRight:5},children:[s.jsx(g,{icon:"heroicons-outline:external-link"}),s.jsx("span",{children:(c=a==null?void 0:a.order)==null?void 0:c.ref})]})}),s.jsxs(l,{children:[" ",(h=a==null?void 0:a.order)==null?void 0:h.customer.name," "]}),s.jsxs(l,{children:[" x",a==null?void 0:a.quantity," "]}),s.jsxs(l,{children:[" ",x(a==null?void 0:a.snapshotProductPrice)," "]}),s.jsxs(l,{children:[x((j=a==null?void 0:a.order)==null?void 0:j.totalOrderAmount)," "]})]},a==null?void 0:a.id)})})]})})},G=({product:e})=>(console.log("---> product",e),s.jsxs(p,{children:[s.jsx(E,{links:[{name:"Dashboard",href:o.dashboard.root},{name:"Product",href:o.dashboard.product.root},{name:"Product Details"}],sx:{mb:{xs:3,md:5}}}),s.jsx(f,{container:!0,spacing:3,children:s.jsx(f,{xs:12,md:12,children:s.jsx(d,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:s.jsxs(C,{children:[s.jsx(F,{title:"Details"}),s.jsxs(d,{direction:"row",gap:10,sx:{p:3,typography:"body2"},children:[s.jsx(n,{flexDirection:"column",sx:{p:1,display:"flex"},children:s.jsx(d,{spacing:2,direction:"row",alignItems:"center",children:s.jsx(w,{sx:{width:100,height:100},alt:e==null?void 0:e.name,src:t.site.serverFileHost+((e==null?void 0:e.image)||t.site.defaultImgPlaceHolder)})})}),s.jsxs(n,{flexDirection:"column",gap:1,sx:{display:"flex",width:"100%",p:1},children:[s.jsxs(n,{sx:{color:"text.secondary"},children:["Name: ",e==null?void 0:e.name]}),s.jsxs(n,{sx:{color:"text.secondary"},children:["Description: ",e==null?void 0:e.description]}),s.jsxs(n,{sx:{color:"text.secondary"},children:["Price:",s.jsx(P,{variant:"soft",color:"info",children:x(e==null?void 0:e.price)})]})]})]}),(e==null?void 0:e.productToOrder.length)>1&&s.jsx(D,{children:s.jsx(n,{fullWidth:!0,alignItems:"center",sx:{p:3,borderBottom:r=>`dashed 2px ${r.vars.palette.background.neutral}`},children:s.jsx(S,{productOrders:e==null?void 0:e.productToOrder})})})]})})})})]})),$={title:`Product details | Dashboard - ${t.site.name}`};function Z(){const{id:e=""}=B(),r=k({queryKey:["plan",e],queryFn:async()=>{const{data:i}=await v.get(H.products.details+e);return i}});return r.isPending||r.isLoading?s.jsx(T,{}):r.isError?s.jsx(q,{route:o.dashboard.plan.root}):s.jsxs(s.Fragment,{children:[s.jsx(I,{children:s.jsxs("title",{children:[" ",$.title]})}),s.jsx(G,{product:r.data})]})}export{Z as default};

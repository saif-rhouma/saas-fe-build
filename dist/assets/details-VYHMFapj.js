import{l as m,r as y,p as i,j as s,B as n,I as g,e8 as p,G as f,S as d,aD as C,A as w,C as t,ds as P,dy as D,ec as T,H as I,dJ as v,dH as H}from"./index-CwDFRBrV.js";import{u as k,E as q}from"./error-block-po56rbru.js";import{u as B}from"./use-params-BEoNI6LX.js";import{C as E}from"./custom-breadcrumbs-tdSVNm9k.js";import{b as c}from"./format-number-Ch538jHW.js";import{a as A,b as R,c as L,T as F}from"./table-head-custom-0GEy35EZ.js";import{T as l}from"./TableCell-D5WBIyLx.js";import{C as O}from"./CardHeader-DhZerdzV.js";import"./utils-km2FGkQ4.js";import"./bounce-BSK3KHpz.js";import"./transition-BJzcwH5q.js";import"./Checkbox-Cm203eFc.js";const S=({productOrders:e})=>{const a=[{id:"name",label:"Order Ref",width:150},{id:"quantity",label:"Customer"},{id:"quantity",label:"Quantity",width:200},{id:"quantity",label:"Price",width:200},{id:"quantity",label:"Total Order Amount",width:200}],o=m(),u=y.useCallback(r=>{o.push(i.dashboard.order.details(r))},[o]);return s.jsx(n,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{borderRadius:1,overflow:"hidden",border:r=>`solid 1px ${r.vars.palette.divider}`},children:s.jsxs(A,{size:"medium",children:[s.jsx(R,{headLabel:a}),s.jsx(L,{children:e==null?void 0:e.map(r=>{var x,h,j;return s.jsxs(F,{children:[s.jsx(l,{children:s.jsxs(n,{onClick:()=>{var b;return u((b=r==null?void 0:r.order)==null?void 0:b.id)},sx:{width:240,display:"flex",gap:1,alignItems:"center",cursor:"pointer",marginRight:5},children:[s.jsx(g,{icon:"heroicons-outline:external-link"}),s.jsx("span",{children:(x=r==null?void 0:r.order)==null?void 0:x.ref})]})}),s.jsxs(l,{children:[" ",(h=r==null?void 0:r.order)==null?void 0:h.customer.name," "]}),s.jsxs(l,{children:[" x",r==null?void 0:r.quantity," "]}),s.jsxs(l,{children:[" ",c(r==null?void 0:r.snapshotProductPrice)," "]}),s.jsxs(l,{children:[c((j=r==null?void 0:r.order)==null?void 0:j.totalOrderAmount)," "]})]},r==null?void 0:r.id)})})]})})},G=({product:e})=>(console.log("---> product",e),s.jsxs(p,{children:[s.jsx(E,{links:[{name:"Dashboard",href:i.dashboard.root},{name:"Product",href:i.dashboard.product.root},{name:"Product Details"}],sx:{mb:{xs:3,md:5}}}),s.jsx(f,{container:!0,spacing:3,children:s.jsx(f,{xs:12,md:12,children:s.jsx(d,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:s.jsxs(C,{children:[s.jsx(O,{title:"Details"}),s.jsxs(d,{direction:"row",gap:10,sx:{p:3,typography:"body2"},children:[s.jsx(n,{flexDirection:"column",sx:{p:1,display:"flex"},children:s.jsx(d,{spacing:2,direction:"row",alignItems:"center",children:s.jsx(w,{sx:{width:100,height:100},alt:e==null?void 0:e.name,src:t.site.serverFileHost+((e==null?void 0:e.image)||t.site.defaultImgPlaceHolder)})})}),s.jsxs(n,{flexDirection:"column",gap:1,sx:{display:"flex",width:"100%",p:1},children:[s.jsxs(n,{sx:{color:"text.secondary"},children:["Name: ",e==null?void 0:e.name]}),s.jsxs(n,{sx:{color:"text.secondary"},children:["Description: ",e==null?void 0:e.description]}),s.jsxs(n,{sx:{color:"text.secondary"},children:["Price:",s.jsx(P,{variant:"soft",color:"info",children:c(e==null?void 0:e.price)})]})]})]}),s.jsx(D,{children:s.jsx(n,{fullWidth:!0,alignItems:"center",sx:{p:3,borderBottom:a=>`dashed 2px ${a.vars.palette.background.neutral}`},children:s.jsx(S,{productOrders:e==null?void 0:e.productToOrder})})})]})})})})]})),$={title:`Product details | Dashboard - ${t.site.name}`};function Z(){const{id:e=""}=B(),a=k({queryKey:["plan",e],queryFn:async()=>(await v.get(H.products.details+e)).data});return a.isPending||a.isLoading?s.jsx(T,{}):a.isError?s.jsx(q,{route:i.dashboard.plan.root}):s.jsxs(s.Fragment,{children:[s.jsx(I,{children:s.jsxs("title",{children:[" ",$.title]})}),s.jsx(G,{product:a.data})]})}export{Z as default};

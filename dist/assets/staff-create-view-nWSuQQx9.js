import{r as C,bW as U,bV as Z,aU as H,aY as w,a_ as J,b as Y,eA as Q,a$ as X,j as n,b0 as ee,dq as k,ds as S,b1 as se,o as ie,dP as te,p as P,aH as V,S as A,T,B as z,bN as re,e as M,ed as oe}from"./index-BPQkDe0s.js";import{C as ne}from"./custom-breadcrumbs-BIW9VTmo.js";import{z as f,u as ae,t as ce,F as le,C as de}from"./form-provider-Csxs3POq.js";import"./editor-JwZorNGg.js";import"./image-C7AA7Kgf.js";import{T as $}from"./TextField-Bi7NVwCq.js";import{F as R}from"./FormControlLabel-CkOEQNeq.js";import{C as me}from"./Checkbox-DYdkvSfk.js";const D=C.createContext();function ue(e){return U("MuiGrid",e)}const pe=[0,1,2,3,4,5,6,7,8,9,10],xe=["column-reverse","column","row-reverse","row"],fe=["nowrap","wrap-reverse","wrap"],b=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],v=Z("MuiGrid",["root","container","item","zeroMinWidth",...pe.map(e=>`spacing-xs-${e}`),...xe.map(e=>`direction-xs-${e}`),...fe.map(e=>`wrap-xs-${e}`),...b.map(e=>`grid-xs-${e}`),...b.map(e=>`grid-sm-${e}`),...b.map(e=>`grid-md-${e}`),...b.map(e=>`grid-lg-${e}`),...b.map(e=>`grid-xl-${e}`)]),ge=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function g(e){const i=parseFloat(e);return`${i}${String(e).replace(String(i),"")||"px"}`}function he({theme:e,ownerState:i}){let r;return e.breakpoints.keys.reduce((s,t)=>{let o={};if(i[t]&&(r=i[t]),!r)return s;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=k({values:i.columns,breakpoints:e.breakpoints.values}),m=typeof l=="object"?l[t]:l;if(m==null)return s;const u=`${Math.round(r/m*1e8)/1e6}%`;let c={};if(i.container&&i.item&&i.columnSpacing!==0){const a=e.spacing(i.columnSpacing);if(a!=="0px"){const d=`calc(${u} + ${g(a)})`;c={flexBasis:d,maxWidth:d}}}o=w({flexBasis:u,flexGrow:0,maxWidth:u},c)}return e.breakpoints.values[t]===0?Object.assign(s,o):s[e.breakpoints.up(t)]=o,s},{})}function be({theme:e,ownerState:i}){const r=k({values:i.direction,breakpoints:e.breakpoints.values});return S({theme:e},r,s=>{const t={flexDirection:s};return s.indexOf("column")===0&&(t[`& > .${v.item}`]={maxWidth:"none"}),t})}function F({breakpoints:e,values:i}){let r="";Object.keys(i).forEach(t=>{r===""&&i[t]!==0&&(r=t)});const s=Object.keys(e).sort((t,o)=>e[t]-e[o]);return s.slice(0,s.indexOf(r))}function we({theme:e,ownerState:i}){const{container:r,rowSpacing:s}=i;let t={};if(r&&s!==0){const o=k({values:s,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=F({breakpoints:e.breakpoints.values,values:o})),t=S({theme:e},o,(m,u)=>{var c;const a=e.spacing(m);return a!=="0px"?{marginTop:`-${g(a)}`,[`& > .${v.item}`]:{paddingTop:g(a)}}:(c=l)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${v.item}`]:{paddingTop:0}}})}return t}function ve({theme:e,ownerState:i}){const{container:r,columnSpacing:s}=i;let t={};if(r&&s!==0){const o=k({values:s,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=F({breakpoints:e.breakpoints.values,values:o})),t=S({theme:e},o,(m,u)=>{var c;const a=e.spacing(m);return a!=="0px"?{width:`calc(100% + ${g(a)})`,marginLeft:`-${g(a)}`,[`& > .${v.item}`]:{paddingLeft:g(a)}}:(c=l)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${v.item}`]:{paddingLeft:0}}})}return t}function je(e,i,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const s=[];return i.forEach(t=>{const o=e[t];Number(o)>0&&s.push(r[`spacing-${t}-${String(o)}`])}),s}const $e=H("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:r}=e,{container:s,direction:t,item:o,spacing:l,wrap:m,zeroMinWidth:u,breakpoints:c}=r;let a=[];s&&(a=je(l,c,i));const d=[];return c.forEach(p=>{const x=r[p];x&&d.push(i[`grid-${p}-${String(x)}`])}),[i.root,s&&i.container,o&&i.item,u&&i.zeroMinWidth,...a,t!=="row"&&i[`direction-xs-${String(t)}`],m!=="wrap"&&i[`wrap-xs-${String(m)}`],...d]}})(({ownerState:e})=>w({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),be,we,ve,he);function Ce(e,i){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return i.forEach(s=>{const t=e[s];if(Number(t)>0){const o=`spacing-${s}-${String(t)}`;r.push(o)}}),r}const ke=e=>{const{classes:i,container:r,direction:s,item:t,spacing:o,wrap:l,zeroMinWidth:m,breakpoints:u}=e;let c=[];r&&(c=Ce(o,u));const a=[];u.forEach(p=>{const x=e[p];x&&a.push(`grid-${p}-${String(x)}`)});const d={root:["root",r&&"container",t&&"item",m&&"zeroMinWidth",...c,s!=="row"&&`direction-xs-${String(s)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...a]};return se(d,ue,i)},O=C.forwardRef(function(i,r){const s=J({props:i,name:"MuiGrid"}),{breakpoints:t}=Y(),o=Q(s),{className:l,columns:m,columnSpacing:u,component:c="div",container:a=!1,direction:d="row",item:p=!1,rowSpacing:x,spacing:h=0,wrap:y="wrap",zeroMinWidth:L=!1}=o,N=X(o,ge),K=x||h,_=u||h,q=C.useContext(D),B=a?m||12:q,E={},W=w({},N);t.keys.forEach(j=>{N[j]!=null&&(E[j]=N[j],delete W[j])});const G=w({},o,{columns:B,container:a,direction:d,item:p,rowSpacing:K,columnSpacing:_,wrap:y,zeroMinWidth:L,spacing:h},E,{breakpoints:t.keys}),I=ke(G);return n.jsx(D.Provider,{value:B,children:n.jsx($e,w({ownerState:G,className:ee(I.root,l),as:c,ref:r},W))})}),ye=["Order List","View Order","Download Order Attachment","Add Plan","Delete Plan","Add Customer","Add Service","Edit Service","Order Report","Order Due Report","Financial List","Master Settings","Add Staff","Edit Staff","Add Payment","Delete Payment","Edit Reminder","Create Ticket","Reply Ticket"],Ne=f.object({staffName:f.string().min(1,{message:"Staff Name is required!"}),staffPassword:f.string().min(1,{message:"Password is required!"}),staffEmail:f.string().min(1,{message:"Email is required!"}),staffPhone:f.string().min(1,{message:"Phone Number is required!"}),isActive:f.boolean(),permissions:f.array(f.string()).min(1,{message:"At least one permission is required!"})});function Pe({currentStaff:e}){const i=ie(),r=C.useMemo(()=>({staffName:(e==null?void 0:e.staffName)||"",staffPhoneNumber:(e==null?void 0:e.staffPhoneNumber)||"",staffEmail:(e==null?void 0:e.staffEmail)||"",staffPassword:(e==null?void 0:e.staffPassword)||"",isActive:(e==null?void 0:e.isActive)||!0,permissions:(e==null?void 0:e.permissions)||[]}),[e]),s=ae({resolver:ce(Ne),defaultValues:r}),{reset:t,watch:o,setValue:l,handleSubmit:m,control:u,formState:{isSubmitting:c}}=s,a=m(async d=>{try{await new Promise(p=>setTimeout(p,500)),t(),te.success(e?"Update success!":"Create success!"),i.push(P.dashboard.product.root),console.info("DATA",d)}catch(p){console.error(p)}});return n.jsxs(le,{methods:s,onSubmit:a,children:[n.jsx(V,{sx:{mb:4},children:n.jsxs(A,{spacing:4,sx:{p:3},children:[n.jsx(T,{variant:"h6",gutterBottom:!0,children:"Staff Details"}),n.jsxs(z,{columnGap:2,rowGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[n.jsx($,{label:"Staff Name",...s.register("staffName")}),n.jsx($,{label:"Phone Number",...s.register("staffPhone")}),n.jsx($,{label:"Email",...s.register("staffEmail")}),n.jsx($,{label:"Password",type:"password",...s.register("staffPassword")})]})]})}),n.jsx(V,{children:n.jsxs(A,{spacing:4,sx:{p:3},children:[n.jsx(T,{variant:"h6",gutterBottom:!0,children:"Permissions"}),n.jsx(O,{container:!0,spacing:2,children:ye.map(d=>n.jsx(O,{item:!0,xs:12,md:4,children:n.jsx(de,{name:"permissions",control:u,render:({field:p})=>n.jsx(R,{control:n.jsx(me,{checked:p.value.includes(d),onChange:x=>{const h=x.target.checked?[...p.value,d]:p.value.filter(y=>y!==d);p.onChange(h)}}),label:d})})},d))}),n.jsx(R,{control:n.jsx(re,{...s.register("isActive")}),label:"Is Active?"}),n.jsxs(z,{display:"flex",justifyContent:"flex-end",mt:2,children:[n.jsx(M,{type:"submit",variant:"contained",disabled:c,children:"Submit"}),n.jsx(M,{variant:"outlined",onClick:()=>t(),sx:{ml:2},children:"Cancel"})]})]})})]})}function ze({staff:e}){return n.jsxs(oe,{children:[n.jsx(ne,{links:[{name:"Dashboard",href:P.dashboard.root},{name:"Staff",href:P.dashboard.staff.root},{name:"New Staff"}],sx:{mb:{xs:3,md:5}}}),n.jsx(Pe,{currentStaff:e})]})}export{ze as S};

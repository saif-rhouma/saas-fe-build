import{j as e,e as m,r as d,B as v,am as u}from"./index-CIoKvMHn.js";import{a as h,b as j,D as g}from"./DialogContent-DW8kkh1u.js";import{D as f}from"./DialogTitle-BhSznuQ6.js";import{A as y}from"./Autocomplete-Cfk2nLPT.js";import{T as C}from"./TextField-C00rKtlH.js";import{z as b,u as F,t as S,a as k,F as L}from"./form-provider-Cii1ThkP.js";import"./image-BRvqol2Y.js";import"./editor-BUpY4qKP.js";const M=({dialog:n,title:r,contentText:o})=>e.jsxs(h,{open:n.value,onClose:n.onFalse,children:[e.jsx(f,{children:r}),e.jsx(j,{sx:{color:"text.secondary"},children:e.jsx("p",{children:o})}),e.jsx(g,{children:e.jsx(m,{variant:"contained",onClick:n.onFalse,autoFocus:!0,children:"Okay"})})]}),q=({customers:n,onChange:r})=>{const[o,l]=d.useState(n),c=(t,{inputValue:s})=>t.filter(i=>{var a,x;return((a=i.name)==null?void 0:a.toLowerCase().includes(s.toLowerCase()))||((x=i.phoneNumber)==null?void 0:x.toLowerCase().includes(s.toLowerCase()))});return e.jsx(y,{id:"customer-select",options:o,autoHighlight:!0,getOptionLabel:t=>t.name,filterOptions:c,onChange:(t,s)=>{r(s==null?void 0:s.id)},sx:{"& .MuiAutocomplete-listbox .MuiAutocomplete-option":{textTransform:"uppercase"}},renderOption:(t,s)=>{const{key:i,...a}=t;return e.jsx(v,{component:"li",sx:{"& > img":{mr:2,flexShrink:0},textTransform:"capitalize"},...a,children:s.name},i)},renderInput:t=>e.jsx(C,{...t,label:"Customer",InputLabelProps:{shrink:!0},sx:{"& .MuiInputBase-input":{textTransform:"capitalize"}},slotProps:{htmlInput:{...t.inputProps,autoComplete:"new-password"}}})})},O=b.object({percentage:b.number().min(0,{message:"Discount Percentage is required!"}).min(0,{message:"Discount Percentage must be between 0 and 100"}).max(100,{message:"Discount Percentage must be between 0 and 100"})}),H=({discount:n,open:r,onClose:o,handler:l})=>{const c=F({resolver:S(O)}),{reset:t,watch:s,setValue:i,handleSubmit:a,formState:{isSubmitting:x}}=c,D=a(async P=>{try{const{percentage:p}=P;t(),l(p)}catch(p){console.error(p)}});return e.jsx(h,{fullWidth:!0,open:r,onClose:o,children:e.jsxs(k,{methods:c,onSubmit:D,children:[e.jsx(f,{children:"Discount Percentage"}),e.jsx(u,{}),e.jsx(j,{sx:{pt:1,mt:1},children:e.jsx(L.Text,{fullWidth:!0,type:"number",label:"Percentage",name:"percentage"})}),e.jsx(u,{sx:{pt:1,mt:1}}),e.jsxs(g,{children:[e.jsx(m,{type:"submit",variant:"contained",children:"Confirm"}),e.jsx(m,{color:"inherit",variant:"outlined",onClick:()=>{t(),o()},children:"Cancel"})]})]})})},N=({product:n,discount:r,open:o,onClose:l,handler:c})=>{var i;const[t,s]=d.useState(r);return d.useEffect(()=>{s(r)},[r]),e.jsxs(h,{fullWidth:!0,open:o,onClose:l,children:[e.jsxs(f,{children:["Discount Product : ",(i=n==null?void 0:n.product)==null?void 0:i.name]}),e.jsx(u,{}),e.jsx(j,{sx:{pt:1,mt:1},children:e.jsx(C,{fullWidth:!0,label:"Discount Amount",type:"number",value:t,onChange:a=>{s(parseInt(a.target.value,10))}})}),e.jsx(u,{sx:{pt:1,mt:1}}),e.jsxs(g,{children:[e.jsx(m,{type:"submit",variant:"contained",onClick:()=>{c(n.index,t)},children:"Confirm"}),e.jsx(m,{color:"inherit",variant:"outlined",onClick:l,children:"Cancel"})]})]})};export{q as C,M as I,H as O,N as a};
